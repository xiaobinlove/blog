<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>code | docs</title>
    <meta name="description" content="">
    <link rel="icon" href="/blog/logo.jpg">
  <link rel="manifest" href="/blog/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/blog/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/blog/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b84ed307.css" as="style"><link rel="preload" href="/blog/assets/js/app.070e880b.js" as="script"><link rel="preload" href="/blog/assets/js/9.036ca0ce.js" as="script"><link rel="prefetch" href="/blog/assets/js/6.a065ffc7.js"><link rel="prefetch" href="/blog/assets/js/2.16a4505e.js"><link rel="prefetch" href="/blog/assets/js/3.92a72697.js"><link rel="prefetch" href="/blog/assets/js/4.bc4da638.js"><link rel="prefetch" href="/blog/assets/js/5.1eaa136d.js"><link rel="prefetch" href="/blog/assets/js/7.bb80f003.js"><link rel="prefetch" href="/blog/assets/js/8.c32630fb.js"><link rel="prefetch" href="/blog/assets/js/10.08a0cf44.js"><link rel="prefetch" href="/blog/assets/js/11.1bc48cc3.js"><link rel="prefetch" href="/blog/assets/js/12.4c2c5048.js"><link rel="prefetch" href="/blog/assets/js/13.16b587e5.js"><link rel="prefetch" href="/blog/assets/js/14.da59c6cc.js"><link rel="prefetch" href="/blog/assets/js/15.c6fd73d4.js"><link rel="prefetch" href="/blog/assets/js/16.c9446da3.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b84ed307.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">docs</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/blog/" class="nav-link router-link-active">Blog</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/javascript/es5/" class="nav-link">es5</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/es6/" class="nav-link">es6</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/blog/" class="nav-link router-link-active">Blog</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/javascript/es5/" class="nav-link">es5</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/es6/" class="nav-link">es6</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>blog</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/blog/blog/" class="sidebar-link">标题</a></li><li><a href="/blog/blog/git.html" class="sidebar-link">Git介绍</a></li><li><a href="/blog/blog/class2.html" class="sidebar-link">class2</a></li><li><a href="/blog/blog/class3.html" class="sidebar-link">class3</a></li><li><a href="/blog/blog/code.html" class="active sidebar-link">code</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blog/code.html#基本的格式化" class="sidebar-link">基本的格式化</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_2-注释" class="sidebar-link">2. 注释</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_3-语句和表达式" class="sidebar-link">3. 语句和表达式</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_4-变量、函数、运算符、class" class="sidebar-link">4.变量、函数、运算符、Class</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_5-避免使用全局变量" class="sidebar-link">5. 避免使用全局变量</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_6-事件处理" class="sidebar-link">6.事件处理</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_7-避免空比较" class="sidebar-link">7. 避免空比较</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_7-1-检测原始值" class="sidebar-link">7.1 检测原始值</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_8-将配置数据从代码中分离出来" class="sidebar-link">8 将配置数据从代码中分离出来</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_9-抛出自定义错误" class="sidebar-link">9. 抛出自定义错误</a></li><li class="sidebar-sub-header"><a href="/blog/blog/code.html#_10-文档化-jsdoc" class="sidebar-link">10. 文档化 JSDOC</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="code"><a href="#code" aria-hidden="true" class="header-anchor">#</a> code</h1> <h2 id="基本的格式化"><a href="#基本的格式化" aria-hidden="true" class="header-anchor">#</a> 基本的格式化</h2> <h3 id="_1-1-缩进层级"><a href="#_1-1-缩进层级" aria-hidden="true" class="header-anchor">#</a> 1.1 缩进层级</h3> <ul><li><p><code>使用空格符进行缩进;</code></p></li> <li><p><code>四个空格符表示一个缩进层级;</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-2-语句结尾"><a href="#_1-2-语句结尾" aria-hidden="true" class="header-anchor">#</a> 1.2 语句结尾</h3> <ul><li><code>使用分号结尾;</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 正确的代码</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'Nicholas'</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>错误实例：因ASI的分号插入规则复杂难记，会造成与原代码不同的执行结果；</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 原始代码</span>
<span class="token keyword">function</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
    <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        author<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 分析器会理解成</span>
<span class="token keyword">function</span> <span class="token function">getData</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        author<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-3-行的长度"><a href="#_1-3-行的长度" aria-hidden="true" class="header-anchor">#</a> 1.3 行的长度</h3> <ul><li><code>指定一行代码长度限定在80个字符；</code></li></ul> <h3 id="_1-4-换行"><a href="#_1-4-换行" aria-hidden="true" class="header-anchor">#</a> 1.4 换行</h3> <ul><li><code>当一行长度超过最大字符数限制（80个字符），需手动将一行代码拆成两行，且下一行增加两个层级的缩进；</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 正确做法： 在运算符后换行，第二行追加两个缩进层级</span>
<span class="token function">callAFunction</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> element<span class="token punctuation">,</span> window<span class="token punctuation">,</span> <span class="token string">'some string value'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span>
        navigator<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不好的做法：第二行只有一个缩进</span>
<span class="token function">callAFunction</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> element<span class="token punctuation">,</span> window<span class="token punctuation">,</span> <span class="token string">'some string value'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span>
    navigator<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不好的做法：在运算符之前换行了</span>
<span class="token function">callAFunction</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> element<span class="token punctuation">,</span> window<span class="token punctuation">,</span> <span class="token string">'some string value'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">123</span>
        <span class="token punctuation">,</span> navigator<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p><code>注意：逗号也算一个运算符，应当作为前一行当结尾;</code></p></li> <li><p><code>变量赋值时，第二行的位置应当与赋值运算符的位置保持对齐;</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 正确的做法</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> something <span class="token operator">+</span> anotherThing <span class="token operator">+</span> yetAnotherThing <span class="token operator">+</span> somethingElse <span class="token operator">+</span>
             anotherSomethingElse<span class="token punctuation">;</span>
<span class="token comment">// 确保代码的可读性，并能一眼看清折行的上下文</span>
</code></pre></div><h3 id="_1-5-空行"><a href="#_1-5-空行" aria-hidden="true" class="header-anchor">#</a> 1.5 空行</h3> <ul><li><p><code>在方法之间加入空行</code></p></li> <li><p><code>在方法中的局部变量和第一条语句之间加入空行</code></p></li> <li><p><code>在多行或单行注释之前加入空行</code></p></li> <li><p><code>在方法内的逻辑片段之间插入空行，提高可读性</code></p></li> <li><p><code>在方法之间加入空行</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">function</span> <span class="token function">anther</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> wl<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 内部逻辑</span>
        p <span class="token operator">=</span> wl<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>merge <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                y<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                r<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
*多行注释
*/</span>
<span class="token keyword">function</span> <span class="token function">bather</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-6-命名"><a href="#_1-6-命名" aria-hidden="true" class="header-anchor">#</a> 1.6 <strong>命名</strong></h3> <ul><li><code>驼峰式大小写：小写字母开始，后续每个单词首字母都大写;</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">let</span> thisIsMyName<span class="token punctuation">;</span>
<span class="token keyword">let</span> anotherletiable<span class="token punctuation">;</span>
<span class="token keyword">let</span> aVeryLongariableName<span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-6-1-变量和函数"><a href="#_1-6-1-变量和函数" aria-hidden="true" class="header-anchor">#</a> 1.6.1 <strong>变量和函数</strong></h3> <ul><li><code>变量名需总是遵守驼峰式大小写命名法，且命名前缀为【名词】，以名词做前缀可以让变量与函数区分开来；函数名前缀为【动词】</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 变量: 好的写法</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myName <span class="token operator">=</span> <span class="token string">'Nicholas'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> found <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">// 不好的写法：变量看起来像函数</span>
<span class="token keyword">let</span> getCount <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> isFound <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">// 函数： 好的写法</span>
<span class="token keyword">function</span> <span class="token function">getName</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> myName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不好的写法： 函数看起来像变量</span>
<span class="token keyword">function</span> <span class="token function">theName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> myName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>对于函数和方法命名，第一个单词应该式动词；常见的一些使用动词的约定</code></li></ul> <table><thead><tr><th style="text-align:center">动词</th> <th style="text-align:center">含义</th></tr></thead> <tbody><tr><td style="text-align:center">can</td> <td style="text-align:center">函数返回一个布尔值</td></tr> <tr><td style="text-align:center">has</td> <td style="text-align:center">函数返回一个布尔值</td></tr> <tr><td style="text-align:center">is</td> <td style="text-align:center">函数返回一个布尔值</td></tr> <tr><td style="text-align:center">get</td> <td style="text-align:center">函数返回一个非布尔值</td></tr> <tr><td style="text-align:center">set</td> <td style="text-align:center">函数用来保存一个值</td></tr></tbody></table> <h3 id="_1-6-2-常量"><a href="#_1-6-2-常量" aria-hidden="true" class="header-anchor">#</a> 1.6.2 <strong>常量</strong></h3> <ul><li><code>常量使用大写字母和下划线来命名，下划线用以分割单词</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token constant">MAX_COUNT</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token constant">URL</span> <span class="token operator">=</span> <span class="token string">'http://www.nczonline.net/'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-6-3-构造函数"><a href="#_1-6-3-构造函数" aria-hidden="true" class="header-anchor">#</a> 1.6.3 <strong>构造函数</strong></h3> <ul><li><code>构造函数以'驼峰式大小写'命名,首字母为大写，名词</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的做法</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>

Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> me <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Nicholas'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_1-7-直接量"><a href="#_1-7-直接量" aria-hidden="true" class="header-anchor">#</a> 1.7 直接量</h3> <h3 id="_1-7-1-字符串"><a href="#_1-7-1-字符串" aria-hidden="true" class="header-anchor">#</a> 1.7.1 字符串</h3> <ul><li><code>静态字符串一律使用单引号或反引号，不使用双引号。动态字符串使用反引号。并从头到尾保持一种风格</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不好的写法</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">&quot;foobar&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token string">'foo'</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>

<span class="token comment">// 可接受的写法</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token template-string"><span class="token string">`foobar`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 好的写法</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">'foobar'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token template-string"><span class="token string">`foo</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">bar`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token string">'foobar'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-7-2-数字"><a href="#_1-7-2-数字" aria-hidden="true" class="header-anchor">#</a> 1.7.2 数字</h3> <ul><li><code>在js中不可省略小数部分或者整数部分</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 整数</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">// 小数</span>
<span class="token keyword">let</span> price <span class="token operator">=</span> <span class="token number">10.0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> price <span class="token operator">=</span> <span class="token number">10.00</span><span class="token punctuation">;</span>

<span class="token comment">// 不推荐的小数写法：没有小数部分</span>
<span class="token keyword">let</span> price <span class="token operator">=</span> <span class="token number">10.</span><span class="token punctuation">;</span>

<span class="token comment">//不推荐的小数写法： 没有整数部分</span>
<span class="token keyword">let</span> price <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">;</span>

<span class="token comment">//不推荐的写法： 八进制写法已经被弃用了</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">010</span><span class="token punctuation">;</span>

<span class="token comment">// 十六进制写法</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0xA2</span>

<span class="token comment">// 科学计数法</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">1e23</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-7-3-null"><a href="#_1-7-3-null" aria-hidden="true" class="header-anchor">#</a> 1.7.3 null</h3> <ul><li><code>null是个特殊值，切勿与undefind搞混;</code></li> <li><code>null用来初始化一个变量，这个变量可能赋值为一个对象；</code></li> <li><code>null用来和一个已经初始化的变量比较，这个变量有可能是也可能不是一个对象；</code></li> <li><code>当函数的参数期望是对象时，用作参数传入；</code></li> <li><code>当函数的返回值期望是对象时，用作返回值传出；</code></li> <li><code>不要使用null来检测是否传入了某个参数；</code></li> <li><code>不要用null来检测一个未初始化的变量</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的用法</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token comment">// 好的用法</span>
<span class="token keyword">function</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Nicholas'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 好的用法</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>person <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不好的写法： 用来和未初始化的变量比较</span>
<span class="token keyword">let</span> person<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>person <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不好的写法： 检测是否传入了参数</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> agr2<span class="token punctuation">,</span> arg3<span class="token punctuation">,</span> arg4<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arg4 <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">doSomethingElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>理解null最好的方式时将它当作对象的占位符；</code></li></ul> <h3 id="_1-7-4-undefined"><a href="#_1-7-4-undefined" aria-hidden="true" class="header-anchor">#</a> 1.7.4 undefined</h3> <ul><li><code>未被初始化的变量都有一个初始值，即undefined;表示这个变量等待被赋值</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不好的写法</span>
<span class="token keyword">let</span> person<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person <span class="token operator">===</span> undefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><ul><li><code>尽量避免在代码中使用undefined,这个值常常与返回'undefined'的typeof运算符混淆。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// foo未被声明</span>
<span class="token keyword">let</span> person<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'undefined'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 'undefined'</span>
</code></pre></div><ul><li><code>通过禁止使用特殊值 undefined, 可以有效的保证只有一种情况下typeof才会返回'undefined'。如果使用了一个可能（或不可能）赋值为一个对象的变量时，则将其赋值为null。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的做法</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true</span>
</code></pre></div><h3 id="_1-7-5-对象直接量"><a href="#_1-7-5-对象直接量" aria-hidden="true" class="header-anchor">#</a> 1.7.5 对象直接量</h3> <ul><li><code>对象直接量允许将所有的属性都括在一对花括号中；</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不好的写法</span>
<span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
book<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
book<span class="token punctuation">.</span>author <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>单行定义的对象，最后一个成员不以逗号结尾。多行定义的对象，最后一个成员以逗号结尾。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> k1<span class="token punctuation">:</span> v1<span class="token punctuation">,</span> k2<span class="token punctuation">:</span> v2<span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
  k1<span class="token punctuation">:</span> v1<span class="token punctuation">,</span>
  k2<span class="token punctuation">:</span> v2
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> k1<span class="token punctuation">:</span> v1<span class="token punctuation">,</span> k2<span class="token punctuation">:</span> v2 <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
  k1<span class="token punctuation">:</span> v1<span class="token punctuation">,</span>
  k2<span class="token punctuation">:</span> v2<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>对象尽量静态化，一旦定义，就不得随意添加新的属性。如果添加属性不可避免，要使用Object.assign方法。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">// if reshape unavoidable</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>如果对象的属性名是动态的，可以在创造对象的时候，使用属性表达式定义。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'San Francisco'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">[</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token string">'enabled'</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'San Francisco'</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token string">'enabled'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>上面代码中，对象obj的最后一个属性名，需要计算得到。这时最好采用属性表达式，在新建obj的时候，将该属性与其他属性定义在一起。这样一来，所有属性就在一个地方定义了。</code></li> <li><code>另外，对象的属性和方法，尽量采用简洁表达法，这样易于描述和书写。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> ref <span class="token operator">=</span> <span class="token string">'some value'</span><span class="token punctuation">;</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> atom <span class="token operator">=</span> <span class="token punctuation">{</span>
  ref<span class="token punctuation">:</span> ref<span class="token punctuation">,</span>

  value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>

  addValue<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> atom<span class="token punctuation">.</span>value <span class="token operator">+</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> atom <span class="token operator">=</span> <span class="token punctuation">{</span>
  ref<span class="token punctuation">,</span>

  value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>

  <span class="token function">addValue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> atom<span class="token punctuation">.</span>value <span class="token operator">+</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-7-6-数组直接量"><a href="#_1-7-6-数组直接量" aria-hidden="true" class="header-anchor">#</a> 1.7.6 数组直接量</h3> <ul><li><code>使用两个方括号将数组初始元素括起来，来替代Array的方式创建数组;</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blur'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 不好的写法</span>
<span class="token keyword">let</span> color <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blur'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>使用扩展运算符（...）拷贝数组。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token keyword">const</span> itemsCopy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> i<span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  itemsCopy<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> itemsCopy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>items<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>使用 Array.from 方法，将类似数组的对象转为数组。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nodes <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-8-es6解构赋值"><a href="#_1-8-es6解构赋值" aria-hidden="true" class="header-anchor">#</a> 1.8 ES6解构赋值</h3> <ul><li><code>使用数组成员对变量赋值时，优先使用解构赋值。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> first <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> second <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>函数的参数如果是对象的成员，优先使用解构赋值。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">getFullName</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> firstName <span class="token operator">=</span> user<span class="token punctuation">.</span>firstName<span class="token punctuation">;</span>
  <span class="token keyword">const</span> lastName <span class="token operator">=</span> user<span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">getFullName</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// best</span>
<span class="token keyword">function</span> <span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>如果函数返回多个值，优先使用对象的解构赋值，而不是数组的解构赋值。这样便于以后添加返回值，以及更改返回值的顺序。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">processInput</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> top<span class="token punctuation">,</span> bottom<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">processInput</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> top<span class="token punctuation">,</span> bottom <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> left<span class="token punctuation">,</span> right <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">processInput</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_2-注释"><a href="#_2-注释" aria-hidden="true" class="header-anchor">#</a> 2. 注释</h2> <ul><li><code>代码晦涩难懂</code></li> <li><code>可能被误认为错误的代码</code></li> <li><code>必要但不明显的针对特定浏览器的代码</code></li> <li><code>对于对象、方法或者属性，生成文档是有必要的（使用恰当的文档注释）</code></li></ul> <h3 id="_2-1-单行注释"><a href="#_2-1-单行注释" aria-hidden="true" class="header-anchor">#</a> 2.1 单行注释</h3> <ul><li><code>独占一行，用来解释下一行代码，且缩进层级和下一行代码保持一致;</code></li> <li><code>在代码行的尾部的注释，代码结束到注释之间至少有一个缩进，且不超过单行最大字符数限制，如果超过，则放置在代码行的上方；</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 代码执行逻辑</span>
    <span class="token function">allowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不好的写法：注释之前没有空行</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 代码逻辑</span>
    <span class="token function">allowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不好的写法： 错误的缩进</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 代码执行逻辑</span>
    <span class="token function">allowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 好的写法</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> something <span class="token operator">+</span> somethingElse<span class="token punctuation">;</span> <span class="token comment">// 代码执行逻辑</span>

<span class="token comment">// 不好的写法: 代码和注释之间没有间隔；</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> something <span class="token operator">+</span> somethingElse<span class="token punctuation">;</span><span class="token comment">// 代码执行逻辑</span>
</code></pre></div><h3 id="_2-2-多行注释"><a href="#_2-2-多行注释" aria-hidden="true" class="header-anchor">#</a> 2.2 多行注释</h3> <ul><li><code>多行注释之前应当有一个空行，且缩进层级和其描述的代码保持一致；</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">/*
    * 代码执行逻辑
    * 代码执行逻辑
    */</span>
    <span class="token function">allowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-3-使用注释"><a href="#_2-3-使用注释" aria-hidden="true" class="header-anchor">#</a> 2.3 使用注释</h3> <ul><li><code>当代码不够清晰时添加注释，当代码很明了时不应当添加注释；</code></li> <li><code>添加注释的一般原则是：在需要让代码变的更清晰时添加注释;</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不好的写法</span>

<span class="token comment">// 初始化count</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">// 好的写法</span>

<span class="token comment">//改变这个值可能会让它变成青蛙</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_3-语句和表达式"><a href="#_3-语句和表达式" aria-hidden="true" class="header-anchor">#</a> 3. 语句和表达式</h2> <ul><li><code>在JavaScript中，不论块语句包含多行代码还是单行代码，都应该使用花括号</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不好的写法</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不好的写法</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不好的写法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-1-花括号的对齐方式"><a href="#_3-1-花括号的对齐方式" aria-hidden="true" class="header-anchor">#</a> 3.1 花括号的对齐方式</h3> <ul><li><code>推荐使用的花括号对齐风格是：将左花括号放置在块语句的第一句代码的末尾。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的做法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">doSomethingElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-2-块语句间隔"><a href="#_3-2-块语句间隔" aria-hidden="true" class="header-anchor">#</a> 3.2 块语句间隔</h3> <ul><li><code>推荐风格：在括左圆括号之前和括右圆括号之后各添加一个空格</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的做法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-3-switch语句"><a href="#_3-3-switch语句" aria-hidden="true" class="header-anchor">#</a> 3.3 switch语句</h3> <ul><li><code>无论何时都不应该省略default</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的做法</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>condithing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'first'</span>
        <span class="token comment">// 代码</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token comment">// default中没有逻辑</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-变量、函数、运算符、class"><a href="#_4-变量、函数、运算符、class" aria-hidden="true" class="header-anchor">#</a> 4.变量、函数、运算符、Class</h2> <h3 id="_4-1-变量声明"><a href="#_4-1-变量声明" aria-hidden="true" class="header-anchor">#</a> 4.1 变量声明</h3> <ul><li><code>ES6 提出了两个新的声明变量的命令：let和const。其中，let完全可以取代let，因为两者语义相同，而且let没有副作用。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>建议不再使用var命令，而是使用let命令取代。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p><code>let命令存在变量提升效用，let命令没有这个问题</code></p></li> <li><p><code>必须将所有的变量声明放在函数顶部，而不是散落在各个角落</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的做法</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> i<span class="token punctuation">,</span> len<span class="token punctuation">;</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> value <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> len <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>合并let语句，可以让代码更短更快：每个变量的初始化独占一行，赋值运算符应当对齐，没有初始值的变量，应当出现在let语句的尾部；</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的做法</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
        result <span class="token operator">=</span> value <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span>
        i<span class="token punctuation">,</span> len<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> len <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>在let和const之间，建议优先使用const，尤其是在全局环境，不应该设置变量，只应设置常量</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不好的写法</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">// 好的写法</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">// 最好的写法</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>所有的函数都应该设置常量</code></li></ul> <h3 id="_4-2-函数"><a href="#_4-2-函数" aria-hidden="true" class="header-anchor">#</a> 4.2 函数</h3> <ul><li><code>必须先声明javascript函数再使用函数</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不好的写法</span>
<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>立即执行函数可以写成箭头函数的形式。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Welcome to the Internet.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>那些需要使用函数表达式的场合，尽量用箭头函数代替。因为这样更简洁，而且绑定了 this。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// best</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>箭头函数取代Function.prototype.bind，不应再用 self/_this/that 绑定 this。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">boundMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token operator">...</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> method<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// acceptable</span>
<span class="token keyword">const</span> boundMethod <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// best</span>
<span class="token keyword">const</span> <span class="token function-variable function">boundMethod</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>params<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> method<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>简单的、单行的、不会复用的函数，建议采用箭头函数。如果函数体较为复杂，行数较多，还是应该采用传统的函数写法</code></li> <li><code>所有配置项都应该集中在一个对象，放在最后一个参数，布尔值不可以直接作为参数。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">divide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> option <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">divide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token punctuation">{</span> option <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>不要在函数体内使用 arguments 变量，使用 rest 运算符（...）代替。因为 rest 运算符显式表明你想要获取参数，而且 arguments 是一个类似数组的对象，而 rest 运算符可以提供一个真正的数组。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">concatenateAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">concatenateAll</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>使用默认值语法设置函数参数的默认值。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">handleThings</span><span class="token punctuation">(</span>opts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  opts <span class="token operator">=</span> opts <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">handleThings</span><span class="token punctuation">(</span>opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-3-严格模式"><a href="#_4-3-严格模式" aria-hidden="true" class="header-anchor">#</a> 4.3 严格模式</h3> <ul><li><code>不要在全局作用域中使用&quot;use strict&quot;</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不好的写法</span>
<span class="token string">&quot;use strict&quot;</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 代码</span>
<span class="token punctuation">}</span>

<span class="token comment">// 好的写法</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;use strict&quot;</span>
    <span class="token comment">// 代码</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-4-相等"><a href="#_4-4-相等" aria-hidden="true" class="header-anchor">#</a> 4.4 相等</h3> <ul><li><code>所有情景下都应当使用全等===和不全等!==</code></li></ul> <h3 id="_4-5-原始包装类型"><a href="#_4-5-原始包装类型" aria-hidden="true" class="header-anchor">#</a> 4.5 原始包装类型</h3> <ul><li><code>尽量禁止使用原始包装类型（String、Number、Boolean）来创建新对象</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不好的做法</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'Nicholas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> author <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-6-map结构"><a href="#_4-6-map结构" aria-hidden="true" class="header-anchor">#</a> 4.6 Map结构</h3> <ul><li><code>注意区分 Object 和 Map，只有模拟现实世界的实体对象时，才使用 Object。如果只是需要key: value的数据结构，使用 Map 结构。因为 Map 有内建的遍历机制。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="_4-7-class"><a href="#_4-7-class" aria-hidden="true" class="header-anchor">#</a> 4.7 Class</h3> <ul><li><code>总是用 Class，取代需要 prototype 的操作。因为 Class 的写法更简洁，更易于理解。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">Queue</span><span class="token punctuation">(</span>contents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>contents<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Queue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pop</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">class</span> <span class="token class-name">Queue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>contents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>contents<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>使用extends实现继承，因为这样更简单，不会有破坏instanceof运算的危险。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> inherits <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inherits'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">PeekableQueue</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Queue<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">inherits</span><span class="token punctuation">(</span>PeekableQueue<span class="token punctuation">,</span> Queue<span class="token punctuation">)</span><span class="token punctuation">;</span>
PeekableQueue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">peek</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">class</span> <span class="token class-name">PeekableQueue</span> <span class="token keyword">extends</span> <span class="token class-name">Queue</span> <span class="token punctuation">{</span>
  <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-8-模块"><a href="#_4-8-模块" aria-hidden="true" class="header-anchor">#</a> 4.8 模块</h3> <ul><li><code>Module 语法是 JavaScript 模块的标准写法，坚持使用这种写法。使用import取代require。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moduleA'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> func1 <span class="token operator">=</span> moduleA<span class="token punctuation">.</span>func1<span class="token punctuation">;</span>
<span class="token keyword">const</span> func2 <span class="token operator">=</span> moduleA<span class="token punctuation">.</span>func2<span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> func1<span class="token punctuation">,</span> func2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'moduleA'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>使用export取代module.exports。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// commonJS的写法</span>
<span class="token keyword">var</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Breadcrumbs <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>nav <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Breadcrumbs<span class="token punctuation">;</span>

<span class="token comment">// ES6的写法</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Breadcrumbs</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>nav <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Breadcrumbs<span class="token punctuation">;</span>
</code></pre></div><ul><li><p><code>如果模块只有一个输出值，就使用export default，如果模块有多个输出值，就不使用export default，export default与普通的export不要同时使用。</code></p></li> <li><p><code>不要在模块输入中使用通配符。因为这样可以确保你的模块之中，有一个默认输出（export default）。</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> myObject <span class="token keyword">from</span> <span class="token string">'./importModule'</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">import</span> myObject <span class="token keyword">from</span> <span class="token string">'./importModule'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>如果模块默认输出一个函数，函数名的首字母应该小写。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">makeStyleGuide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> makeStyleGuide<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>如果模块默认输出一个对象，对象名的首字母应该大写。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> StyleGuide <span class="token operator">=</span> <span class="token punctuation">{</span>
  es6<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> StyleGuide<span class="token punctuation">;</span>
</code></pre></div><h2 id="_5-避免使用全局变量"><a href="#_5-避免使用全局变量" aria-hidden="true" class="header-anchor">#</a> 5. 避免使用全局变量</h2> <ul><li><code>在浏览器中，window对象往往重载并等同于全局对象，，因此任何在全局作用域中声明点变量和函数都是window对象的属性；</code></li></ul> <h2 id="_6-事件处理"><a href="#_6-事件处理" aria-hidden="true" class="header-anchor">#</a> 6.事件处理</h2> <ul><li><p><code>最佳实践：将应用逻辑从所有事件处理程序中抽离出来</code></p></li> <li><p><code>规则 1: 隔离应用逻辑;</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">let</span> myApplication <span class="token operator">=</span> <span class="token punctuation">{</span>
    handleClick<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showPopup</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    showPopup<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> popup <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'popup'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        popup<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        popup<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        popup<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'reveal'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">addListener</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    MyApplication<span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>规则 2: 不要分发事件对象, 最佳点办法是让事件处理程序使用event对象来处理事件；然后拿到所需要的数据传给应用逻辑</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 好的写法</span>
<span class="token keyword">let</span> myApplication <span class="token operator">=</span> <span class="token punctuation">{</span>
    handleClick<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showPopup</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    showPopup<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> popup <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'popup'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        popup<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        popup<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        popup<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'reveal'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">addListener</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    MyApplication<span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="_7-避免空比较"><a href="#_7-避免空比较" aria-hidden="true" class="header-anchor">#</a> 7. 避免空比较</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> Controller <span class="token operator">=</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>items <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 不好的写法</span>
            items<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 执行逻辑</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7-1-检测原始值"><a href="#_7-1-检测原始值" aria-hidden="true" class="header-anchor">#</a> 7.1 检测原始值</h2> <ul><li><code>javascript有五种原始类型：字符串、数字、布尔值、null、undefined</code></li> <li><code>判断五种原始类型，最好使用typeo运算符；</code></li> <li><code>typeof运算符会返回一个表示值的类型的字符串</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 检测字符串</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    anotherName <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 检测数字</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> count <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">updateCount</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 检测布尔值</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> found <span class="token operator">===</span> <span class="token string">'boolean'</span> <span class="token operator">&amp;&amp;</span> found<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">message</span><span class="token punctuation">(</span><span class="token string">'Found'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 检测undefined</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> MyApp <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    MyApp <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>未定义到变量和值为undefined的变量，通过typeof都将返回'undefined'</code></li> <li><code>原始值 null ,一般不用于检测语句，如果需要检测null,最好使用===或!==</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token keyword">null</span> 返回 <span class="token string">'object'</span>
编程时需要杜绝使用<span class="token keyword">typeof</span>来检测<span class="token keyword">null</span>的类型
</code></pre></div><h3 id="_7-2-检测引用值"><a href="#_7-2-检测引用值" aria-hidden="true" class="header-anchor">#</a> 7.2 检测引用值</h3> <ul><li><code>检测某个引用值的类型的最好方法是使用instanceof运算符</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>value <span class="token keyword">instanceof</span> <span class="token class-name">constructor</span>

<span class="token comment">// 检测日期</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 检测正则表达式</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>anotherValue<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Mathces'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 检测Error</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>instanceof运算符可用于检测自定义的类型</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> me <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Nicholas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="_7-2-1-检测函数"><a href="#_7-2-1-检测函数" aria-hidden="true" class="header-anchor">#</a> 7.2.1 检测函数</h3> <ul><li><code>javascript中的函数都是引用类型，同样存在Function构造函数，每个函数都是其实例;</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 不好的写法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myFunc <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 然而这个方法不能跨帧(frame)使用，因为每个帧都有各自的Function构造函数。但是可以使用typeof运算符检测函数</span>

<span class="token comment">// 好的写法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> myFunc <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_7-3-检测属性"><a href="#_7-3-检测属性" aria-hidden="true" class="header-anchor">#</a> 7.3 检测属性</h3> <ul><li><p><code>判断属性是否存在的最好办法是使用in运算符</code></p></li> <li><p><code>in运算符仅仅会简单的判断属性是否存在，而不会去读取属性到值</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    related<span class="token punctuation">:</span><span class="token keyword">null</span>
<span class="token punctuation">}</span>

<span class="token comment">// 好的写法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'count'</span> <span class="token keyword">in</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里的代码会执行</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不好的写法: 检测假值</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>object<span class="token punctuation">[</span><span class="token string">'count'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里的代码不会执行</span>
<span class="token punctuation">}</span>

<span class="token comment">// 好的写法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'related'</span> <span class="token keyword">in</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里的代码会执行</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不好的写法： 检测是否为null</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>object<span class="token punctuation">[</span><span class="token string">'related'</span><span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里的代码不会执行</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>检测实例对象的某个属性是否存在，则使用hasOwnProperty()方法，如果实例存在这个属性则返回true(如果这个属性只存在于原型里，则返回false)</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 对于所有非dom对象，这是最好的办法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>object<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'related'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行这里的代码</span>
<span class="token punctuation">}</span>

<span class="token comment">// 如果不确定是否为dom对象，</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'hasOwnProperty'</span> <span class="token keyword">in</span> object <span class="token operator">&amp;&amp;</span> object<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'related'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行这里的代码</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-将配置数据从代码中分离出来"><a href="#_8-将配置数据从代码中分离出来" aria-hidden="true" class="header-anchor">#</a> 8 将配置数据从代码中分离出来</h2> <h3 id="_8-1-什么是配置数据"><a href="#_8-1-什么是配置数据" aria-hidden="true" class="header-anchor">#</a> 8.1 什么是配置数据</h3> <ul><li><code>配置数据是应用中写死的值</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">validate</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Invalid value'</span><span class="token punctuation">)</span>  <span class="token comment">// 可能会修改替换</span>
        location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'/errors/invalid.php'</span><span class="token punctuation">;</span>  <span class="token comment">// 可能会修改替换</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">toggleSelected</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasClass</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token string">'selected'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 'selected' 可能会修改替换</span>
        <span class="token function">removeClass</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token string">'selected'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 'selected' 可能会修改替换</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">addClass</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token string">'selected'</span><span class="token punctuation">)</span>   <span class="token comment">// 'selected' 可能会修改替换</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>URL</code></li> <li><code>需要展现给用户的字符串</code></li> <li><code>重复的值</code></li> <li><code>设置（比如每页的配置项)</code></li> <li><code>任何可能发生变更的值</code></li></ul> <h3 id="_8-2-抽离配置数据"><a href="#_8-2-抽离配置数据" aria-hidden="true" class="header-anchor">#</a> 8.2 抽离配置数据</h3> <ul><li><code>将配置数据从代码中抽离出来的第一步是将配置数据拿到外部，即将数据从JavaScript代码之中拿掉</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token constant">MSG_INVALID_VALUE</span><span class="token punctuation">:</span> <span class="token string">'Invalid value'</span><span class="token punctuation">,</span>
    <span class="token constant">URL_INVALID</span><span class="token punctuation">:</span> <span class="token string">'errors/invalid.php'</span><span class="token punctuation">,</span>
    <span class="token constant">CSS_SELECTED</span><span class="token punctuation">:</span> <span class="token string">'selected'</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">validate</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token constant">MSG_INVALID_VALUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        location<span class="token punctuation">.</span>href <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token constant">URL_INVALID</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">toggleSelected</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasClass</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> config<span class="token punctuation">.</span><span class="token constant">CSS_SELECTED</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 'selected' 可能会修改替换</span>
        <span class="token function">removeClass</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> config<span class="token punctuation">.</span><span class="token constant">CSS_SELECTED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 'selected' 可能会修改替换</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">addClass</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> config<span class="token punctuation">.</span><span class="token constant">CSS_SELECTED</span><span class="token punctuation">)</span>   <span class="token comment">// 'selected' 可能会修改替换</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_8-3-保存配置数据"><a href="#_8-3-保存配置数据" aria-hidden="true" class="header-anchor">#</a> 8.3 保存配置数据</h3> <ul><li><code>配置数据最好放在单独的文件中，以便清晰的分隔数据和应用逻辑</code></li> <li><code>将配置文件置于单独的JavaScript文件中,是一个不错的开始。一旦配置数据存放于单独的文件中，就可以管理这些数据</code></li></ul> <h2 id="_9-抛出自定义错误"><a href="#_9-抛出自定义错误" aria-hidden="true" class="header-anchor">#</a> 9. 抛出自定义错误</h2> <h3 id="_9-1-在javascript中抛出错误"><a href="#_9-1-在javascript中抛出错误" aria-hidden="true" class="header-anchor">#</a> 9.1 在JavaScript中抛出错误</h3> <ul><li><code>使用throw操作符，将提供的一个对象作为错误抛出。</code></li> <li><code>任何类型的对象都可以作为错误抛出，Error对象是最常用的</code></li></ul> <blockquote><p>throw new Error('something bad happend')</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token comment">// 不好的写法</span>
  <span class="token keyword">throw</span> <span class="token string">'message'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>如果没有通过try-catch语句捕获，抛出任何值将引发一个错误</code></li> <li><code>唯一不出差错的显示自动移动错误消息的方式就是使用一个Error对象</code></li></ul> <h3 id="_9-2-抛出错误的好处"><a href="#_9-2-抛出错误的好处" aria-hidden="true" class="header-anchor">#</a> 9.2 抛出错误的好处</h3> <ul><li><code>抛出自己的错误可以使用确切的文本供浏览器显示</code></li> <li><code>在错误消息中包含函数名称以及函数失败的原因</code></li></ul> <h3 id="_9-3-何时抛出错误"><a href="#_9-3-何时抛出错误" aria-hidden="true" class="header-anchor">#</a> 9.3 何时抛出错误</h3> <ul><li><code>一旦修复了一个很难调试的错误，尝试增加一两个自定义错误，当再次发生错误时，这将有帮助于更容易的解决问题</code></li> <li><code>如果正在编写代码，思考一下：“我希望【某些事情】不会发生，如果发生，我的代码会一团糟糕”。这时，如果“某些事情”发生，就抛出一个错误</code></li> <li><code>如果正在编写的代码别人也会使用，思考一下他们的使用方式，在特定的情况下抛出错误</code></li></ul> <blockquote><p>请牢记，我们多目的不是防止错误，而是在错误发生时能更加容易的调试</p></blockquote> <h3 id="_9-4-try-catch语句"><a href="#_9-4-try-catch语句" aria-hidden="true" class="header-anchor">#</a> 9.4 try-catch语句</h3> <ul><li><code>将可能引发错误的代码放在try块中，处理错误的的代码放在catch块中</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token function">somethingThatMighCauseAnError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">handleError</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>当try块中发生一个错误时，程序立即停止执行，然后跳到catch块，并传入一个错误对象。检测该对象可以确定从错误中恢复的最佳动作。</p></blockquote> <ul><li><code>可以增加finally块。finally块中的代码不管是否有错误发生，最后都会被执行。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token function">somethingThatMighCauseAnError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">handleError</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">continue</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>注意：如果try块中包含了一个return语句，实际上必须等到finally块中的代码执行后才能返回，因此，finally其实不太常用，但是如果处理错误必要，它仍是处理错误的一个强大工具；</p></blockquote> <ul><li><code>使用throw还是try-catch</code></li> <li><code>千万不要将try-catch中的catch留空，需写点错误处理逻辑来处理错误。</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不好的写法</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token function">somethingThatMighCauseAnError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 空</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-5-错误类型"><a href="#_9-5-错误类型" aria-hidden="true" class="header-anchor">#</a> 9.5 错误类型</h3> <ul><li><p>Error: 所有错误的基本类型;</p> <ul><li>EvalError: 通过eval()函数执行代码发生错误时抛出;</li> <li>RangeError: 一个数字超出它的边界时抛出;</li> <li>SyntaxError: 期望的对象不存在时抛出;</li> <li>TypeError: 变量不是期望的类型时抛出;</li> <li>URIError: 给encodeURL()、encodeURLComponent()、decodeURL()等函数传递格式非法的URL字符串时抛出;</li></ul></li> <li><p><code>创建自己的错误类型，继承Error，这种做法允许你提供额外的信息，同时可区别与浏览器抛出的错误。</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">MyError</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
MyError<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

这段代码有两个重要的部分：message属性，浏览器必须要知道错误消息字符串；设置prototype为Error的一个实例，对JavaScript引擎就标识它是一个错误对象；
</code></pre></div><blockquote><p>throw new MyError('Hello world');</p></blockquote> <h2 id="_10-文档化-jsdoc"><a href="#_10-文档化-jsdoc" aria-hidden="true" class="header-anchor">#</a> 10. 文档化 JSDOC</h2> <ul><li><code>JSDoc是一个根据javascript文件中注释信息，生成JavaScript应用程序或库、模块的API文档 的工具</code></li> <li><code>JSDoc注释一般应该放置在方法或函数声明之前，它必须以/ **开始，以便由JSDoc解析器识别。其他任何以/*，/***或者超过3个星号的注释，都将被JSDoc解析器忽略</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * Book类，代表一个书本.
 * @constructor
 * @param {string} title - 书本的标题.
 * @param {string} author - 书本的作者.
 */</span>
<span class="token keyword">function</span> <span class="token function">Book</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> author<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token operator">=</span>title<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>author<span class="token operator">=</span>author<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Book<span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token comment">/**
     * 获取书本的标题
     * @returns {string|*}
     */</span>
    getTitle<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * 设置书本的页数
     * @param pageNum {number} 页数
     */</span>
    setPageNum<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>pageNum<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pageNum<span class="token operator">=</span>pageNum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>学习文档：<a href="http://www.css88.com/doc/jsdoc/index.html" target="_blank" rel="noopener noreferrer">JSDoc中文文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/blog/class3.html" class="prev">
          class3
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/blog/assets/js/9.036ca0ce.js" defer></script><script src="/blog/assets/js/app.070e880b.js" defer></script>
  </body>
</html>
